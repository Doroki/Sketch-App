{"version":3,"sources":["webpack:///webpack/bootstrap 4dfac3725d260bdd3414","webpack:///./src/js/classes/tool_class.js","webpack:///./src/js/classes/otherTools_class.js","webpack:///./src/js/classes/advancedTools.js","webpack:///./src/js/classes/movableElements_class.js","webpack:///./src/js/main.js","webpack:///./src/js/classes/canvas_class.js","webpack:///./src/js/basic_tools/brush.js","webpack:///./src/js/basic_tools/easer.js","webpack:///./src/js/basic_tools/spray.js","webpack:///./src/js/basic_tools/color_picker.js","webpack:///./src/js/basic_tools/text.js","webpack:///./src/js/others-buttons/open_file.js","webpack:///./src/js/others-buttons/download.js","webpack:///./src/js/others-buttons/storage.js","webpack:///./src/js/others-buttons/select.js","webpack:///./src/js/others-buttons/undo_redo_class.js"],"names":["Tool","elementButton","canvasObject","cursorUrl","canvasElement","element","canvas","classList","remove","dataset","usage","add","document","querySelector","style","setProperty","OtherTools","AdvancedTool","elementToCreate","toolIsActive","button","MovableElements","buttonElement","menuHeight","offsetHeight","isFieldOn","pleaceToDraw","x","y","lastCursorX","lastCursorY","event","e","clientX","clientY","wrapper","elementToDraw","parentElement","top","left","appendChild","tag","createElement","resizeHandler","id","dragElement","resizeEvent","offsetLeft","offsetTop","width","offsetWidth","height","addEventListener","preventDefault","initResizeEvent","container","elementPositionY","elementPositionX","mouseUpHandler","mouseMoveHandler","stopResizeElement","resizeElement","cursorPositionY","cursorPositionX","removeEventListener","checkPositionOfElement","localName","initDragEvent","newPositionX","newPositionY","dropElement","moveElement","menu","workSpaceWidth","window","innerWidth","workSpaceHeight","innerHeight","brushButton","easerButton","colorPickerButton","sprayButton","textButton","toolColor","toolSize","fontSize","fontColor","fontBold","fontItalic","save","download","openFile","redoButton","undoButton","selectTool","cutTool","copyTool","pasteTool","copyToolSet","Sketch","Brush","Easer","ColorPicker","Spray","TextTool","SketchStorage","DownloadImage","LoadFile","DrawHistory","SelectArea","toolSet","checkStorage","changeProperties","value","color","setTextStyle","textareaStyle","textColor","active","fontWeight","fontStyle","downloadCanvas","loadFile","redo","undo","cutSelectedArea","copySelectedArea","pasteCopiedArea","disableButton","buttonID","toolToDisable","inactive","enableButton","target","toolToActive","useButton","hasAttribute","Canvas","canvasArea","ctx","getContext","fillStyle","fillRect","isDrawing","lastX","lastY","drawProperties","drawStyle","mouseEventHandler","move","down","up","out","drawMethod","drawHistory","saveToHistory","properties","strokeStyle","lineJoin","lineCap","lineWidth","beginPath","moveTo","lineTo","offsetX","offsetY","stroke","length","oldProperties","slice","push","toDataURL","draw","BrushTool","paintColor","bindEvents","unbindEvents","EaserTool","disabled","SprayTool","spraySize","randomAngle","Math","random","randomRadius","angle","cos","radius","sin","density","i","offset","getRandomPosition","paint","bind","ColorPickerTool","colorData","getImageData","rgbColor","red","data","green","blue","hexColor","toString","eventHandler","checkColor","TextDrawTool","textPropety","fontFamily","font","fillText","mdownEventHandler","drawText","deleteContentElement","createContentElement","showContentElement","removeSelection","OpenFile","image","canvasHeight","clientHeight","canvasWidth","clientWidth","imageWidth","naturalWidth","imageHeight","naturalHeight","widthRatio","heightRatio","toatlSizeRatio","min","loadEventHandler","file","files","reader","FileReader","readAsDataURL","onload","src","result","imageSize","checkSizeImage","positionToDraw","drawImage","clearFileInStorage","type","DownloadCanvas","fileName","link","href","CanvasStorage","modal","info","accept","cancel","textContent","contains","load","parentNode","removeChild","setTimeout","localStorage","getItem","createLoadModal","setItem","createSaveModal","imageObj","Image","SelectCanvasArea","copyMemory","disableCopyButtons","removeAttribute","setAttribute","areaPositionToCopy","enablePasteButton","cordsToClear","clearRect","context","putImageData","getImage","pasteEventHandler","loadCopiedImg","enableCopyButtons","Undo_Redo","undoHistory","url","stateToLoad","pop","loadState","history","historyLength","stateToUndo"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4dfac3725d260bdd3414","\r\nclass Tool {\r\n    constructor(elementButton, canvasObject, cursorUrl, canvasElement = null) {\r\n        this.element = elementButton;\r\n        this.canvas = canvasObject;\r\n        this.cursorUrl = cursorUrl;\r\n        this.canvasElement = canvasElement;\r\n    }\r\n\r\n    disableButton() {\r\n        this.element.classList.remove(\"menu__button--active\");\r\n        this.element.dataset.usage = \"false\";\r\n    }\r\n\r\n    enableButton() {\r\n        this.element.classList.add(\"menu__button--active\"); // set button to active\r\n        this.element.dataset.usage = \"true\";\r\n        document.querySelector(\":root\").style.setProperty(\"--canvas-cursor\", `url(${this.cursorUrl}), auto`)// change cursor\r\n    } \r\n}\r\n\r\nexport default Tool;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/tool_class.js","\r\nclass OtherTools {\r\n    constructor(elementButton, canvasObject, canvasElement) {\r\n        this.element = elementButton;\r\n        this.canvas = canvasObject;\r\n        this.canvasElement = canvasElement;\r\n    }\r\n}\r\n\r\nexport default OtherTools;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/otherTools_class.js","import MovableElements from \"../classes/movableElements_class.js\";\r\n\r\nclass AdvancedTool extends MovableElements {\r\n    constructor(elementButton, canvasObject, canvasElement = null, elementToCreate) {\r\n        super(elementButton, canvasObject, canvasElement, elementToCreate)\r\n\r\n        this.toolIsActive = false;\r\n        this.button; \r\n    }\r\n\r\n    disableButton() {\r\n        this.button.classList.remove(\"menu__button--active\");\r\n        this.button.dataset.usage = \"false\";\r\n    }\r\n\r\n    enableButton() {\r\n        this.button.classList.add(\"menu__button--active\"); // set button to active\r\n        this.button.dataset.usage = \"true\";\r\n        document.querySelector(\":root\").style.setProperty(\"--canvas-cursor\", `url(${this.cursorUrl}), auto`)// change cursor\r\n    } \r\n}\r\n\r\nexport default AdvancedTool;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/advancedTools.js","\r\nclass MovableElements {\r\n    constructor(buttonElement, canvas, canvasElement, elementToCreate) {\r\n        this.element = buttonElement;\r\n        this.canvas = canvas;\r\n        this.canvasElement = canvasElement;\r\n        this.elementToCreate = elementToCreate;\r\n        this.menuHeight = document.querySelector(\".menu\").offsetHeight;\r\n\r\n        this.isFieldOn = false;\r\n\r\n        this.pleaceToDraw = {\r\n            x: 0,\r\n            y: 0\r\n        }\r\n\r\n        this.lastCursorX = 0;\r\n        this.lastCursorY = 0;\r\n\r\n\r\n    }\r\n\r\n\r\n    showContentElement(event) {\r\n        const e = event || {clientX: 0, clientY: this.menuHeight};\r\n        const wrapper = this.elementToDraw.parentElement;\r\n        \r\n        this.lastCursorX = e.clientX - 10;\r\n        this.lastCursorY = e.clientY - 10;\r\n\r\n        wrapper.style.top = `${this.lastCursorY}px`;\r\n        wrapper.style.left = `${this.lastCursorX}px`;\r\n\r\n        document.querySelector(\"body\").appendChild(wrapper);\r\n        // this.initResizeEvent(event, wrapper);\r\n    }\r\n\r\n    createContentElement(tag) {\r\n\r\n        const wrapper = document.createElement(\"div\");\r\n        this.elementToDraw = document.createElement(tag || `${this.elementToCreate}`);\r\n        const resizeHandler = document.createElement(\"span\");\r\n\r\n        this.elementToDraw.id = \"selection\";\r\n        this.elementToDraw.classList.add(\"main-element\");\r\n        wrapper.classList.add(\"wrapper\");\r\n        resizeHandler.classList.add(\"resizer\");\r\n\r\n\r\n        wrapper.appendChild(this.elementToDraw);\r\n        wrapper.appendChild(resizeHandler);\r\n\r\n        this.dragElement(wrapper);\r\n        this.resizeEvent(wrapper, resizeHandler);\r\n    }\r\n\r\n    deleteContentElement() {\r\n        const wrapper = this.elementToDraw.parentElement;\r\n\r\n        wrapper.remove();\r\n    }\r\n\r\n    checkPositionOfElement() {\r\n        const wrapper = this.elementToDraw.parentElement;\r\n        this.pleaceToDraw.x = wrapper.offsetLeft + 14; // \"14\" width of margin + border + padding\r\n        this.pleaceToDraw.y = wrapper.offsetTop + 14 - this.menuHeight;\r\n\r\n        return {\r\n            x: wrapper.offsetLeft + 12,\r\n            y: wrapper.offsetTop + 12 - this.menuHeight,\r\n            width: this.elementToDraw.offsetWidth,\r\n            height: this.elementToDraw.offsetHeight\r\n        }\r\n    }\r\n\r\n    ///////// ---------------------  RESIZE ELEMENT ----------------------- //////////\r\n    resizeEvent(wrapper, resizeHandler) {\r\n\r\n        resizeHandler.addEventListener(\"mousedown\", (e) => {\r\n            e.preventDefault();\r\n            this.initResizeEvent(e, wrapper)\r\n         });\r\n\r\n    }\r\n\r\n    initResizeEvent(e, container) {\r\n\r\n        const elementPositionY = container.offsetTop;\r\n        const elementPositionX = container.offsetLeft;\r\n\r\n        let mouseUpHandler;\r\n        let mouseMoveHandler;\r\n\r\n\r\n        document.addEventListener(\"mouseup\", mouseUpHandler = () => this.stopResizeElement(mouseUpHandler, mouseMoveHandler));\r\n        document.addEventListener(\"mousemove\", mouseMoveHandler = (e) => this.resizeElement(e, elementPositionX, elementPositionY, container));\r\n    }\r\n\r\n    resizeElement(e, x, y, container) {\r\n\r\n        let cursorPositionY = e.clientY - y  - 25;\r\n        let cursorPositionX = e.clientX - x  - 25;\r\n\r\n        this.elementToDraw.style.width = cursorPositionX + \"px\";\r\n        this.elementToDraw.style.height = cursorPositionY + \"px\";\r\n    }\r\n\r\n    stopResizeElement(mouseUpHandler, mouseMoveHandler) {\r\n\r\n        document.removeEventListener(\"mouseup\", mouseUpHandler);\r\n        document.removeEventListener(\"mousemove\", mouseMoveHandler);\r\n\r\n        this.checkPositionOfElement();\r\n    }\r\n\r\n    ///////// ---------------------  DRAG & DROP ELEMENT ----------------------- //////////\r\n    dragElement(wrapper) {\r\n\r\n        let cursorPositionX;\r\n        let cursorPositionY;\r\n\r\n        this.elementToDraw.addEventListener(\"mousedown\", (e) => {\r\n            if(this.elementToDraw.localName !== \"textarea\") e.preventDefault();\r\n            this.initDragEvent(e, cursorPositionX, cursorPositionY, wrapper)\r\n        })\r\n    }\r\n\r\n    initDragEvent(e, cursorPositionX, cursorPositionY, element) {\r\n        let mouseUpHandler;\r\n        let mouseMoveHandler;\r\n\r\n        this.lastCursorX = e.clientX;\r\n        this.lastCursorY = e.clientY;\r\n\r\n        this.newPositionX = element.offsetLeft;\r\n        this.newPositionY = element.offsetTop;\r\n        \r\n        document.addEventListener(\"mouseup\", mouseUpHandler = () => this.dropElement(mouseUpHandler, mouseMoveHandler));\r\n        document.addEventListener(\"mousemove\", mouseMoveHandler = (e) => this.moveElement(e, cursorPositionX, cursorPositionY, element));\r\n    }\r\n\r\n    moveElement(e, x, y, element) {\r\n\r\n        const cursorPositionX = this.lastCursorX - e.clientX;\r\n        const cursorPositionY = this.lastCursorY - e.clientY;\r\n        this.lastCursorX  = e.clientX;\r\n        this.lastCursorY = e.clientY;\r\n\r\n\r\n        this.newPositionX = (this.newPositionX - cursorPositionX)\r\n        this.newPositionY = (this.newPositionY - cursorPositionY)\r\n\r\n        element.style.top = this.newPositionY + \"px\";\r\n        element.style.left = this.newPositionX + \"px\";\r\n\r\n\r\n    }\r\n\r\n    dropElement(mouseUpHandler, mouseMoveHandler) {\r\n\r\n        document.removeEventListener(\"mouseup\", mouseUpHandler);\r\n        document.removeEventListener(\"mousemove\", mouseMoveHandler);\r\n\r\n        this.checkPositionOfElement();\r\n    }\r\n}\r\n\r\nexport default MovableElements;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/movableElements_class.js","///// IMPORT FILES /////\r\nimport Canvas from \"./classes/canvas_class\"; // Class of Canvas element\r\n\r\nimport BrushTool from \"./basic_tools/brush\";\r\nimport EaserTool from \"./basic_tools/easer\";\r\nimport SprayTool from \"./basic_tools/spray\";  \r\nimport ColorPickerTool from \"./basic_tools/color_picker\"; \r\nimport TextDrawTool from \"./basic_tools/text\"; \r\n\r\nimport OpenFile from \"./others-buttons/open_file\";\r\nimport DownloadCanvas from \"./others-buttons/download\";\r\nimport CanvasStorage from \"./others-buttons/storage\";\r\n\r\nimport SelectCanvasArea from \"./others-buttons/select\";\r\nimport Undo_Redo from \"./others-buttons/undo_redo_class\"\r\n\r\n\r\n/////----------------\tELEMENT HANDLERS ----------------------\t/////\r\n\r\n// -- menu -- //\r\nconst menu = document.querySelector(\".menu\");\r\n\r\n// -- canvas element -- //\r\nconst canvasElement = document.querySelector(\"#canvas\");\r\nconst workSpaceWidth = window.innerWidth;\r\nconst workSpaceHeight = window.innerHeight - menu.offsetHeight;\r\n\r\n// -- tool buttons -- //\r\nconst brushButton = menu.querySelector(\"#Brush\");\r\nconst easerButton = menu.querySelector(\"#Easer\");\r\nconst colorPickerButton = menu.querySelector(\"#Color-Picker\");\r\nconst sprayButton = menu.querySelector(\"#Spray\");\r\nconst textButton = menu.querySelector(\"#Text\");\r\n\r\n// -- input properties -- //\r\nconst toolColor = menu.querySelector(\"#color-field\");\r\nconst toolSize = menu.querySelector(\"#tool-size\");\r\n\r\nconst fontSize = menu.querySelector(\"#font-size\");\r\nconst fontColor = menu.querySelector(\"#color-font\");\r\nconst fontBold = menu.querySelector(\"#bold\");\r\nconst fontItalic = menu.querySelector(\"#italic\");\r\n\r\n// -- others buttons -- //\r\nconst save = menu.querySelector(\"#save\");\r\nconst download = menu.querySelector(\"#download\");\r\nconst openFile = menu.querySelector(\"#get-file\");\r\n\r\nconst redoButton = menu.querySelector(\"#redo\");\r\nconst undoButton = menu.querySelector(\"#undo\");\r\n\r\nconst selectTool = menu.querySelector(\"#Select\");\r\nconst cutTool = menu.querySelector(\"#cut\");\r\nconst copyTool = menu.querySelector(\"#copy\");\r\nconst pasteTool = menu.querySelector(\"#paste\");\r\n\r\nconst copyToolSet = {\r\n\tselectTool,\r\n\tcutTool,\r\n\tcopyTool,\r\n\tpasteTool\r\n}\r\n\r\n/////----------------\tOBJECTS ----------------------\t/////\r\n\r\nconst Sketch = new Canvas(canvasElement, workSpaceWidth, workSpaceHeight);\r\n\r\nconst Brush = new BrushTool(brushButton, Sketch, '../my-icons-collection/svg/001-color-picker.png');\r\nconst Easer = new EaserTool(easerButton, Sketch, '../my-icons-collection/svg/001-color-picker.png');\r\nconst ColorPicker = new ColorPickerTool(colorPickerButton, Sketch, '../my-icons-collection/svg/001-color-picker.png', canvasElement);\r\nconst Spray = new SprayTool(sprayButton, Sketch, '../my-icons-collection/svg/001-color-picker.png');\r\nconst TextTool = new TextDrawTool(textButton, Sketch, canvasElement, \"textarea\");\r\n// const Rect;\r\n\r\nconst SketchStorage = new CanvasStorage(save, Sketch, canvasElement);\r\nconst DownloadImage = new DownloadCanvas(download, canvasElement);\r\nconst LoadFile = new OpenFile(openFile, Sketch, canvasElement, \"img\");\r\n\r\nconst DrawHistory = new Undo_Redo(Sketch);\r\nconst SelectArea = new SelectCanvasArea(copyToolSet, Sketch, canvasElement, \"div\");\r\n\r\n\r\n/////----------------\tTOOLSET FOR EVENT LISTENER (ENABLE / DISABLE BUTTON)   --------------------/////\r\n\r\nconst toolSet = {\r\n\t\"Brush\": Brush,\r\n\t\"Easer\": Easer,\r\n\t\"Color-Picker\": ColorPicker,\r\n\t\"Spray\": Spray,\r\n\t\"Text\": TextTool,\r\n\t// \"Rect\": Rect\r\n\t\"Select\": SelectArea\r\n}\r\n\r\n/////----------------\tEVENT LISTENERS  ----------------------\t/////\r\n\r\nwindow.addEventListener('load', () => SketchStorage.checkStorage());\r\n\r\ntoolSize.addEventListener(\"change\", Sketch.changeProperties({width: toolSize.value}));\r\ntoolColor.addEventListener(\"change\", Sketch.changeProperties({color: toolColor.value}));\r\n\r\nfontSize.addEventListener(\"change\", () => {\r\n\tTextTool.setTextStyle({fontSize: `${fontSize.value}px`})\r\n\tif(TextTool.elementToDraw.localName === \"textarea\") TextTool.textareaStyle();\r\n});\r\nfontColor.addEventListener(\"change\", () => {\r\n\tTextTool.setTextStyle({textColor: fontColor.value})\r\n\tif(TextTool.elementToDraw.localName === \"textarea\") TextTool.textareaStyle();\r\n});\r\nfontBold.addEventListener(\"click\", () => {\r\n\tif(fontBold.dataset.active === \"false\") {\r\n\t\tTextTool.setTextStyle({fontWeight: `bold`});\r\n\t\tfontBold.classList.add(\"menu__button--active\");\r\n\t\tfontBold.dataset.active = \"true\";\r\n\t\tif(TextTool.elementToDraw.localName === \"textarea\") TextTool.textareaStyle();\r\n\t} else {\r\n\t\tTextTool.setTextStyle({fontWeight: `normal`});\r\n\t\tfontBold.classList.remove(\"menu__button--active\");\r\n\t\tfontBold.dataset.active = \"false\";\r\n\t\tif(TextTool.elementToDraw.localName === \"textarea\") TextTool.textareaStyle();\r\n\t}\r\n});\r\nfontItalic.addEventListener(\"click\", () => {\r\n\tif(fontItalic.dataset.active === \"false\") {\r\n\t\tTextTool.setTextStyle({fontStyle: `italic`});\r\n\t\tfontItalic.classList.add(\"menu__button--active\");\r\n\t\tfontItalic.dataset.active = \"true\";\r\n\t\tif(TextTool.elementToDraw.localName === \"textarea\") TextTool.textareaStyle();\r\n\t} else {\r\n\t\tTextTool.setTextStyle({fontStyle: `normal`});\r\n\t\tfontItalic.classList.remove(\"menu__button--active\");\r\n\t\tfontItalic.dataset.active = \"false\";\r\n\t\tif(TextTool.elementToDraw.localName === \"textarea\") TextTool.textareaStyle();\r\n\t}\r\n});\r\n\r\nsave.addEventListener(\"click\", () => SketchStorage.save());\r\ndownload.addEventListener(\"click\", () => DownloadImage.downloadCanvas());\r\nopenFile.addEventListener(\"change\", function() {LoadFile.loadFile()});\r\nredoButton.addEventListener(\"click\", () => DrawHistory.redo());\r\nundoButton.addEventListener(\"click\", () => DrawHistory.undo());\r\n\r\n// -- \"Copy / Paste\" functionality -- //\r\ncutTool.addEventListener(\"click\", () => SelectArea.cutSelectedArea());\r\ncopyTool.addEventListener(\"click\", () => SelectArea.copySelectedArea());\r\npasteTool.addEventListener(\"click\", () => SelectArea.pasteCopiedArea());\r\n\r\n\r\nfunction disableButton(e) {\r\n\tlet buttonID = document.querySelector(\"[data-usage=true]\").id;\r\n\tlet toolToDisable = toolSet[buttonID];\r\n\t\r\n\ttoolToDisable.disableButton();\r\n\ttoolToDisable.inactive();\r\n}\r\n\r\nfunction enableButton(e) {\r\n\tlet buttonID = e.target.id;\r\n\tlet toolToActive = toolSet[buttonID];\r\n\r\n\ttoolToActive.enableButton();\r\n\ttoolToActive.active();\r\n}\r\n\r\nfunction useButton(e) {\r\n\tdisableButton(e);\r\n\tenableButton(e);\r\n}\r\n\r\nmenu.addEventListener(\"click\", e => {\r\n\tif(e.target.hasAttribute(\"data-usage\")){\r\n\t\tuseButton(e);\t\r\n\t}\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","class Canvas {\r\n  \r\n\tconstructor(canvasElement, width, height){ // creating canvas object, needed arguments (1. selector of canvas element, 2. width, 3. height)\r\n\t\tthis.canvasArea = canvasElement;\r\n\t\tthis.canvasArea.width = width;\r\n\t\tthis.canvasArea.height = height;\r\n\t\tthis.ctx = this.canvasArea.getContext('2d');\r\n\t\tthis.ctx.fillStyle = \"#ffffff\";\r\n\t\tthis.ctx.fillRect(0, 0, width, height);\r\n\r\n\t\tthis.isDrawing = false;\r\n\t\tthis.lastX = 0;\r\n\t\tthis.lastY = 0;\r\n\r\n\t\t//////// DRAW PROPERTIES /////////\r\n\t\tthis.drawProperties = {\r\n\t\t\tdrawStyle: \"line\",\r\n\t\t\tcolor :'#000000', \r\n\t\t\twidth :'10', \r\n\t\t\tstyle :'round',\r\n\t\t};\r\n\r\n\t\t////// Event handler for unbind method /////\r\n\t\tthis.mouseEventHandler = {\r\n\t\t\tmove: null,\r\n\t\t\tdown: null,\r\n\t\t\tup: null,\r\n\t\t\tout: null\r\n\t\t};\r\n\r\n\t\t//// properties to use for new methods of draw ///\r\n\t\tthis.drawMethod = null\r\n\r\n\t\t//// Draw History ////\r\n\t\tthis.drawHistory = [];\r\n\t\tthis.saveToHistory(); // used during init of object to save blank canvas in history\r\n\t}\r\n\r\n\tchangeProperties(properties) { // Function to change drawing properies: color, width, OBJECT AS ARGUMENT OF FUNCTION\r\n\t\tthis.drawProperties = {\r\n\t\t\t...this.drawProperties,\r\n\t\t\t...properties\r\n\t\t};\r\n\t}\r\n  \r\n\tdraw(e) {\r\n\t\tif(!this.isDrawing) return;\r\n\t\t  \r\n\t\tthis.ctx.strokeStyle = this.drawProperties.color;\r\n\t\tthis.ctx.fillStyle = this.drawProperties.color;\r\n\t\tthis.ctx.lineJoin = 'round';\r\n\t\tthis.ctx.lineCap = this.drawProperties.style;\r\n\t\tthis.ctx.lineWidth = this.drawProperties.width;\r\n\r\n\t\tif(typeof this.drawMethod !== \"function\") { // Default settings of draw, useing for Brush or Easer\r\n\t\t\tthis.ctx.beginPath();\r\n\t\t\tthis.ctx.moveTo(this.lastX, this.lastY);\r\n\t\t\tthis.ctx.lineTo(e.offsetX, e.offsetY);\r\n\t\t\tthis.ctx.stroke();\r\n\t\t} else {\r\n\t\t\tthis.drawMethod(e, this) // Other draw methods implemented from tools\r\n\t\t}\r\n\t\t\r\n\t\tthis.lastX = e.offsetX;\r\n\t\tthis.lastY = e.offsetY;\r\n\t}\r\n\r\n\tsaveToHistory() {\r\n\t\tif(this.drawHistory.length > 6) {\r\n\t\t  const oldProperties = this.drawHistory.slice(1,7);\r\n\t\t  this.drawHistory = oldProperties;\r\n\t\t}\r\n\t\t\r\n\t\tthis.drawHistory.push(this.canvasArea.toDataURL());   \r\n\t}\r\n\r\n  \r\n\tbindEvents() {\r\n\t   this.canvasArea.addEventListener(\"mousemove\", this.mouseEventHandler.move = (e) => {this.draw(e)});\r\n\t   this.canvasArea.addEventListener(\"mousedown\", this.mouseEventHandler.down = (e) => {\r\n\t\t\t\tthis.isDrawing = true;\r\n\t\t\t\tthis.lastX = e.offsetX;\r\n\t\t\t\tthis.lastY = e.offsetY;\r\n\t\t\t\tthis.draw(e);\r\n\t   });\r\n\t   this.canvasArea.addEventListener(\"mouseup\", this.mouseEventHandler.up = () => {\r\n\t\t\tif(this.isDrawing) {\r\n\t\t\t\tthis.saveToHistory();\r\n\t\t\t\tthis.isDrawing = false\r\n\t\t\t}\r\n\t\t});\r\n\t   this.canvasArea.addEventListener(\"mouseout\", this.mouseEventHandler.out = () => {\r\n\t\t\tif(this.isDrawing) {\r\n\t\t\t\tthis.saveToHistory();\r\n\t\t\t\tthis.isDrawing = false\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tunbindEvents() {\r\n\t\tthis.canvasArea.removeEventListener(\"mousemove\", this.mouseEventHandler.move);\r\n\t\tthis.canvasArea.removeEventListener(\"mousedown\", this.mouseEventHandler.down);\r\n\t\tthis.canvasArea.removeEventListener(\"mouseup\", this.mouseEventHandler.up);\r\n\t\tthis.canvasArea.removeEventListener(\"mouseout\", this.mouseEventHandler.out);\r\n\t }\r\n  }\r\n\r\n  export default Canvas;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/canvas_class.js","import Tool from \"../classes/tool_class.js\"; // Class of tools\r\n\r\nclass BrushTool extends Tool {\r\n\r\n    active() {\r\n\r\n        let paintColor = document.querySelector(\"[type=color]\").value;\r\n        this.canvas.changeProperties({color: paintColor, drawStyle: \"line\"});\r\n        this.canvas.bindEvents();\r\n    }\r\n    \r\n    inactive() {\r\n        this.canvas.unbindEvents();\r\n    }\r\n}\r\n\r\nexport default BrushTool;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/brush.js","import Tool from \"../classes/tool_class.js\"; // Class of tools\r\n\r\nclass EaserTool extends Tool {\r\n\r\n    active() {\r\n\r\n        this.canvas.changeProperties({drawStyle: \"line\", color: \"#ffffff\"});\r\n        document.querySelector(\"#color-field\").disabled = true;\r\n        this.canvas.bindEvents();\r\n    }\r\n    \r\n    inactive() {\r\n        document.querySelector(\"#color-field\").disabled = false;\r\n        this.canvas.unbindEvents();\r\n    }\r\n}\r\n\r\n\r\nexport default EaserTool;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/easer.js","import Tool from \"../classes/tool_class.js\"; // Class of tools\r\n\r\nclass SprayTool extends Tool {\r\n\r\n    getRandomPosition(spraySize) {\r\n        const randomAngle = Math.random() * 360;\r\n        const randomRadius = Math.random() * spraySize;\r\n\r\n        return {\r\n            angle: Math.cos(randomAngle) * randomRadius,\r\n            radius: Math.sin(randomAngle) * randomRadius\r\n        };\r\n    }\r\n\r\n    paint(e) {\r\n        const spraySize = this.canvas.ctx.lineWidth;\r\n        const density = 60 * (spraySize / 5);\r\n\r\n        for (let i = 0; i < density; i++) {\r\n\r\n            const offset = this.getRandomPosition(spraySize);\r\n            const x = offset.angle + e.offsetX;\r\n            const y = offset.radius + e.offsetY;\r\n\r\n            this.canvas.ctx.fillRect(x, y, 1, 1);\r\n        }\r\n    }\r\n\r\n    active() {\r\n\r\n        this.canvas.bindEvents();\r\n        this.canvas.drawMethod = this.paint.bind(this);\r\n    };\r\n\r\n    inactive() {\r\n\r\n        this.canvas.unbindEvents();\r\n        this.canvas.drawMethod = null;\r\n    };\r\n}\r\n\r\nexport default SprayTool;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/spray.js","import Tool from \"../classes/tool_class.js\"; // Class of tools\r\n\r\nclass ColorPickerTool extends Tool {\r\n\r\n\tcheckColor(e) {\r\n\r\n\t\tconst colorData = this.canvas.ctx.getImageData(e.offsetX, e.offsetY, 1, 1);\r\n\r\n\t\tconst rgbColor = {\r\n\t\t\tred: colorData.data[0],\r\n\t\t\tgreen: colorData.data[1],\r\n\t\t\tblue: colorData.data[2]\r\n\t\t}\r\n\r\n\t\tconst hexColor = {\r\n\t\t\tred: rgbColor.red.toString(16),\r\n\t\t\tgreen: rgbColor.green.toString(16),\r\n\t\t\tblue: rgbColor.blue.toString(16)\r\n\t\t}\r\n\r\n\t\tdocument.querySelector(\"#color-field\").value = `#${hexColor.red}${hexColor.green}${hexColor.blue}`;\r\n\t};\r\n\r\n\r\n\tactive() {\r\n\r\n\t\tthis.canvas.unbindEvents();\r\n\r\n\t\tthis.eventHandler // created to make possiable to remove Event Listener\r\n\r\n\t\tthis.canvasElement.addEventListener(\"click\", this.eventHandler = (event) => {\r\n\t\t\tthis.checkColor(event)\r\n\t\t});\r\n\t}\r\n\r\n\tinactive() {\r\n\t\tthis.canvasElement.removeEventListener(\"click\", () => this.eventHandler());\r\n\t}\r\n}\r\n\r\nexport default ColorPickerTool;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/color_picker.js","import AdvancedTools from \"../classes/advancedTools.js\";\r\n\r\nclass TextDrawTool extends AdvancedTools {\r\n    constructor(elementButton, canvasObject, canvasElement, elementToCreate) {\r\n        super(elementButton, canvasObject, canvasElement, elementToCreate)\r\n        this.button = this.element;\r\n\r\n        this.textPropety = {\r\n            fontFamily: \"sans-serif\",\r\n            textColor: \"#000000\",\r\n            fontSize: \"12px\",\r\n            fontStyle: \"normal\",\r\n            fontWeight: \"normal\"\r\n        }\r\n    }\r\n\r\n    setTextStyle(properties) {\r\n\t\tthis.textPropety = {\r\n\t\t\t...this.textPropety,\r\n\t\t\t...properties\r\n\t\t};\r\n    }\r\n\r\n    useTextStyle() {\r\n        this.elementToDraw.style.fontFamily = this.textPropety.fontFamily;\r\n        this.elementToDraw.style.color = this.textPropety.textColor;\r\n        this.elementToDraw.style.fontSize = this.textPropety.fontSize;\r\n        this.elementToDraw.style.fontStyle = this.textPropety.fontStyle;\r\n        this.elementToDraw.style.fontWeight = this.textPropety.fontWeight;\r\n    }\r\n\r\n\r\n    drawText() {\r\n        this.canvas.ctx.font=`\r\n            ${this.textPropety.fontStyle}\r\n            ${this.textPropety.fontWeight}\r\n            ${this.textPropety.fontSize}\r\n            ${this.textPropety.fontFamily}`;\r\n\r\n        this.canvas.ctx.fillStyle = this.textPropety.textColor;\r\n        this.canvas.ctx.fillText(this.elementToDraw.value, this.pleaceToDraw.x, this.pleaceToDraw.y);\r\n        this.canvas.saveToHistory();\r\n    }\r\n\r\n    textareaStyle() {\r\n        this.elementToDraw.style.fontStyle = `${this.textPropety.fontStyle}`;\r\n        this.elementToDraw.style.fontWeight = `${this.textPropety.fontWeight}`;\r\n        this.elementToDraw.style.fontSize = `${this.textPropety.fontSize}`;\r\n        this.elementToDraw.style.fontFamily = `${this.textPropety.fontFamily}`;\r\n        this.elementToDraw.style.color = `${this.textPropety.textColor}`;\r\n    }\r\n\r\n\r\n    bindEvents() {\r\n        this.canvasElement.addEventListener(\"mousedown\", this.mdownEventHandler = e => {\r\n\r\n            if (this.toolIsActive) {\r\n                this.drawText();\r\n                this.deleteContentElement();\r\n                this.toolIsActive = false;\r\n            } else {\r\n                this.createContentElement();\r\n                this.showContentElement(e);\r\n                this.initResizeEvent(e, this.elementToDraw.parentElement);\r\n                this.toolIsActive = true;\r\n                \r\n            }\r\n        });\r\n    }\r\n\r\n    unbindEvents() {\r\n        this.canvasElement.removeEventListener(\"mousedown\", this.mdownEventHandler);\r\n        document.removeEventListener(\"mousedown\", this.removeSelection);\r\n    }\r\n\r\n    active() {\r\n        if(this.toolIsActive) return;\r\n\r\n        this.bindEvents();\r\n    }\r\n    \r\n    inactive() {\r\n        if(this.toolIsActive) return;\r\n        this.unbindEvents();\r\n        this.deleteContentElement();\r\n        this.toolIsActive = false;\r\n    }\r\n}\r\n\r\nexport default TextDrawTool;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/text.js","import MovableElements from \"../classes/movableElements_class.js\";\r\n\r\n\r\nclass OpenFile extends MovableElements {\r\n\r\n    constructor(buttonElement, canvas, canvasElement, elementToCreate) {\r\n        super(buttonElement, canvas, canvasElement, elementToCreate)\r\n    }\r\n    \r\n\r\n    checkSizeImage(image) {\r\n        const canvasHeight = this.canvas.canvasArea.clientHeight;\r\n        const canvasWidth = this.canvas.canvasArea.clientWidth;\r\n        const imageWidth = image.naturalWidth;\r\n        const imageHeight = image.naturalHeight;\r\n\r\n        if(imageWidth > canvasWidth || imageHeight > canvasHeight) {\r\n            const widthRatio = canvasWidth / imageWidth;\r\n            const heightRatio = canvasHeight / imageHeight;\r\n\r\n            const toatlSizeRatio = Math.min(widthRatio, heightRatio); //it always will be fraction, smaller fraction will show longer side of image;\r\n            //to properly scale, it have be scaled by ratio of longer side\r\n\r\n            return {\r\n                x: imageWidth * toatlSizeRatio - 20, // \"20\" width of margin\r\n                y: imageHeight * toatlSizeRatio - 20\r\n            }\r\n        } else {\r\n            return {\r\n                x: imageWidth,\r\n                y: imageHeight\r\n            }\r\n        }\r\n    }\r\n\r\n    clearFileInStorage() {\r\n        this.element.value = \"\";\r\n    }\r\n    \r\n    \r\n    loadFile() {\r\n        let loadEventHandler;\r\n        this.createContentElement();\r\n\r\n        const file = this.element.files[0];\r\n        const reader = new FileReader();\r\n        \r\n        reader.readAsDataURL(file);\r\n\r\n        reader.onload = function() {\r\n            this.elementToDraw.src = reader.result;\r\n        }.bind(this);\r\n\r\n        this.elementToDraw.onload = function() {\r\n            const imageSize = this.checkSizeImage(this.elementToDraw);\r\n            this.elementToDraw.style.width = `${imageSize.x}px`;\r\n            this.elementToDraw.style.height = `${imageSize.y}px`;\r\n\r\n            this.showContentElement();\r\n        }.bind(this)\r\n        \r\n\r\n        this.canvasElement.addEventListener(\"click\", loadEventHandler = (e) => {\r\n\r\n            const positionToDraw = this.checkPositionOfElement();\r\n            this.deleteContentElement();\r\n            this.canvas.ctx.drawImage(this.elementToDraw, positionToDraw.x, positionToDraw.y, positionToDraw.width, positionToDraw.height);\r\n\r\n            this.clearFileInStorage();\r\n            this.canvas.saveToHistory();\r\n            this.canvasElement.removeEventListener(e.type, loadEventHandler);\r\n        });\r\n    }\r\n}\r\n\r\nexport default OpenFile;\n\n\n// WEBPACK FOOTER //\n// ./src/js/others-buttons/open_file.js","import OtherTools from \"../classes/otherTools_class.js\";\r\n\r\nclass DownloadCanvas extends OtherTools {\r\n    constructor(element, canvasElement) {\r\n        super(element, canvasElement);\r\n        this.fileName = \"my_image.png\";\r\n    }  \r\n\r\n    downloadCanvas() {\r\n        const link = this.canvas.toDataURL();\r\n  \r\n        this.element.download = this.fileName;\r\n        this.element.href = link;\r\n    }\r\n}\r\n\r\nexport default DownloadCanvas;\n\n\n// WEBPACK FOOTER //\n// ./src/js/others-buttons/download.js","import OtherTools from \"../classes/otherTools_class.js\";\r\n\r\nclass CanvasStorage extends OtherTools {\r\n\r\n    createLoadModal() {\r\n        const modal = document.createElement(\"div\");\r\n        const info = document.createElement(\"p\");\r\n        const accept = document.createElement(\"button\");\r\n        const cancel = document.createElement(\"button\");\r\n        let eventHandler;\r\n\r\n        modal.classList.add(\"modal\");\r\n        info.classList.add(\"modal__info\");\r\n        accept.classList.add(\"modal__button\");\r\n        cancel.classList.add(\"modal__button\");\r\n        \r\n        info.textContent = \"Saved image was found, would you like to load it?\";\r\n        accept.textContent = \"Accept\";\r\n        cancel.textContent = \"Cancel\";\r\n\r\n        modal.appendChild(info);\r\n        modal.appendChild(accept);\r\n        modal.appendChild(cancel);\r\n\r\n        document.querySelector(\"body\").appendChild(modal);\r\n\r\n        modal.addEventListener(\"click\", eventHandler = (e) => {\r\n            if(e.target.classList.contains(\"modal__button\")) {\r\n                if(e.target.textContent === \"Accept\") {\r\n                    this.load();\r\n                } \r\n\r\n                modal.removeEventListener(\"click\", eventHandler);\r\n                modal.parentNode.removeChild(modal);\r\n            }\r\n        });\r\n    }\r\n\r\n    createSaveModal() {\r\n        const modal = document.createElement(\"div\");\r\n        const info = document.createElement(\"p\");\r\n\r\n        modal.classList.add(\"modal\");\r\n        info.classList.add(\"modal__info\");\r\n\r\n        info.textContent = \"Saved...\";\r\n        modal.appendChild(info);\r\n\r\n        document.querySelector(\"body\").appendChild(modal);\r\n\r\n        setTimeout(() => {\r\n            modal.parentNode.removeChild(modal);\r\n        }, 1000);\r\n    }\r\n\r\n    checkStorage() {\r\n        if(localStorage.getItem(\"img\") !== null) {\r\n            this.createLoadModal();\r\n        }\r\n    }\r\n\r\n    save() {\r\n        const link = this.canvasElement.toDataURL();\r\n  \r\n        localStorage.setItem(\"img\", link);\r\n\r\n        this.createSaveModal();\r\n    } \r\n\r\n    load() {\r\n        const link = localStorage.getItem(\"img\");\r\n\r\n        const imageObj = new Image();\r\n        imageObj.src = link;\r\n        imageObj.onload = function() {\r\n            this.canvas.ctx.drawImage(imageObj, 0, 0);\r\n        }.bind(this);\r\n    } \r\n}\r\n\r\nexport default CanvasStorage;\n\n\n// WEBPACK FOOTER //\n// ./src/js/others-buttons/storage.js","import AdvancedTools from \"../classes/advancedTools.js\";\r\n\r\nclass SelectCanvasArea extends AdvancedTools {\r\n    constructor(buttonElement, canvas, canvasElement, elementToCreate) {\r\n        super(buttonElement, canvas, canvasElement, elementToCreate);\r\n        this.copyMemory;\r\n        this.button = this.element.selectTool;\r\n    }\r\n\r\n    removeSelection() {\r\n        this.deleteContentElement();\r\n        this.disableCopyButtons(); \r\n    }\r\n\r\n    //// ---------  COPY / PASTE / CUT BUTTONS ----------- /////\r\n    enablePasteButton() {\r\n        this.element.pasteTool.removeAttribute(\"disabled\");\r\n        this.element.pasteTool.classList.remove(\"menu__button--disabled\");\r\n    }\r\n\r\n    enableCopyButtons() {\r\n        this.element.copyTool.removeAttribute(\"disabled\");\r\n        this.element.cutTool.removeAttribute(\"disabled\");\r\n        this.element.copyTool.classList.remove(\"menu__button--disabled\");\r\n        this.element.cutTool.classList.remove(\"menu__button--disabled\");\r\n    }\r\n\r\n    disableCopyButtons() {\r\n        this.element.copyTool.setAttribute(\"disabled\", \"disabled\");\r\n        this.element.cutTool.setAttribute(\"disabled\", \"disabled\");\r\n        this.element.copyTool.classList.add(\"menu__button--disabled\");\r\n        this.element.cutTool.classList.add(\"menu__button--disabled\");\r\n    }\r\n\r\n    copySelectedArea() {\r\n        const areaPositionToCopy = this.checkPositionOfElement();\r\n        this.copyMemory = this.canvas.ctx.getImageData(areaPositionToCopy.x, areaPositionToCopy.y, areaPositionToCopy.width, areaPositionToCopy.height);\r\n        this.enablePasteButton();\r\n\r\n        return areaPositionToCopy;\r\n    }\r\n\r\n    cutSelectedArea() {\r\n        const cordsToClear = this.copySelectedArea();\r\n        this.canvas.ctx.clearRect(cordsToClear.x, cordsToClear.y, cordsToClear.width, cordsToClear.height);\r\n    }\r\n\r\n    getImage(width, height) {\r\n        const canvas = document.createElement(\"canvas\");\r\n        canvas.width = width;\r\n\t\tcanvas.height = height;\r\n        const context = canvas.getContext(\"2d\");\r\n        context.putImageData(this.copyMemory, 0, 0);\r\n        \r\n        return canvas.toDataURL();\r\n    }\r\n\r\n    loadCopiedImg() {\r\n\r\n        const image = this.getImage(this.copyMemory.width, this.copyMemory.height)\r\n        this.createContentElement(\"img\");\r\n        this.elementToDraw.src = image; \r\n        this.elementToDraw.style.width = `${this.copyMemory.width}px`;\r\n        this.elementToDraw.style.height = `${this.copyMemory.height}px`;    \r\n        this.showContentElement();   \r\n    }\r\n\r\n    pasteCopiedArea() {\r\n        let pasteEventHandler;\r\n\r\n        this.inactive(); // remove select tool events for a while;\r\n        this.loadCopiedImg();\r\n\r\n        this.canvasElement.addEventListener(\"mousedown\", pasteEventHandler = (e) => {\r\n            e.preventDefault();\r\n            const positionToDraw = this.checkPositionOfElement();\r\n            this.deleteContentElement();\r\n            this.canvas.ctx.drawImage(this.elementToDraw, positionToDraw.x, positionToDraw.y, positionToDraw.width, positionToDraw.height);\r\n            this.canvas.saveToHistory();\r\n            this.active(); // add select tool events;\r\n            this.canvasElement.removeEventListener(e.type, pasteEventHandler);\r\n        });\r\n        // this.canvas.saveToHistory();\r\n    }\r\n\r\n    //// ---------  EVENTS ----------- /////\r\n\r\n\r\n\r\n    bindEvents() {\r\n        this.canvasElement.addEventListener(\"mousedown\", this.mdownEventHandler = e => {\r\n\r\n            if (this.toolIsActive) {\r\n                this.removeSelection();\r\n                this.toolIsActive = false;\r\n            } else {\r\n                this.createContentElement();\r\n                this.showContentElement(e);\r\n                this.enableCopyButtons();\r\n                this.initResizeEvent(e, this.elementToDraw.parentElement);\r\n                this.toolIsActive = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    unbindEvents() {\r\n        this.canvasElement.removeEventListener(\"mousedown\", this.mdownEventHandler);\r\n        document.removeEventListener(\"mousedown\", this.removeSelection);\r\n    }\r\n\r\n    active() {\r\n        this.bindEvents();\r\n    }\r\n    \r\n    inactive() {\r\n        this.unbindEvents();\r\n        this.removeSelection();\r\n        this.toolIsActive = false;\r\n    }\r\n}\r\n\r\nexport default SelectCanvasArea;\n\n\n// WEBPACK FOOTER //\n// ./src/js/others-buttons/select.js","import OtherTools from \"../classes/otherTools_class.js\";\r\n\r\nclass Undo_Redo extends OtherTools  {\r\n    constructor(canvasElement) {\r\n        super(null, canvasElement);\r\n        this.undoHistory = [];\r\n    }\r\n\r\n    loadState(url) {\r\n        const canvasHeight = this.canvas.canvasArea.clientHeight;\r\n        const canvasWidth = this.canvas.canvasArea.clientWidth;\r\n        \r\n        const imageObj = new Image();\r\n        imageObj.src = url;\r\n        imageObj.onload = function() {\r\n            this.canvas.ctx.clearRect(0, 0, canvasWidth, canvasHeight);\r\n            this.canvas.ctx.drawImage(imageObj, 0, 0);\r\n        }.bind(this);\r\n    }\r\n\r\n    redo() {\r\n        if(this.undoHistory.length <= 0) return;\r\n\r\n        const stateToLoad = this.undoHistory[this.undoHistory.length - 1]\r\n        this.undoHistory.pop();\r\n        this.canvas.drawHistory.push(stateToLoad);\r\n\r\n        this.loadState(stateToLoad);\r\n    }\r\n\r\n    undo() {\r\n        const history = this.canvas.drawHistory;\r\n        const historyLength = history.length;\r\n\r\n        if(historyLength <= 1) return;\r\n\r\n        const stateToUndo = history[historyLength - 1];\r\n        const stateToLoad = history[historyLength - 2];\r\n\r\n        this.undoHistory.push(stateToUndo)\r\n        this.canvas.drawHistory.pop();\r\n\r\n        this.loadState(stateToLoad);\r\n    }\r\n}\r\n\r\nexport default Undo_Redo; \n\n\n// WEBPACK FOOTER //\n// ./src/js/others-buttons/undo_redo_class.js"],"sourceRoot":""}