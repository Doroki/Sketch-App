{"version":3,"sources":["webpack:///webpack/bootstrap b20bd52e60468353846b","webpack:///./src/js/classes/tool_class.js","webpack:///./src/js/main.js","webpack:///./src/js/classes/canvas_class.js","webpack:///./src/js/others-buttons/undo_redo_class.js","webpack:///./src/js/classes/otherTools_class.js","webpack:///./src/js/basic_tools/brush.js","webpack:///./src/js/basic_tools/easer.js","webpack:///./src/js/basic_tools/spray.js","webpack:///./src/js/basic_tools/color_picker.js","webpack:///./src/js/basic_tools/rect.js","webpack:///./src/js/basic_tools/text.js","webpack:///./src/js/others-buttons/open_file.js","webpack:///./src/js/others-buttons/download.js","webpack:///./src/js/others-buttons/storage.js"],"names":["Tool","idElement","cursorUrl","element","document","querySelector","classList","remove","dataset","usage","add","style","setProperty","menu","canvasElement","workSpaceWidth","window","innerWidth","workSpaceHeight","innerHeight","offsetHeight","toolColor","toolSize","download","save","textTool","redo","undo","toolSet","Sketch","DownloadImg","StorageOfCanvas","Loader","DrawHistory","TextTool","disableButton","e","canvas","buttonID","id","toolToDisable","inactive","enableButton","target","toolToActive","active","useButton","addEventListener","hasAttribute","changeColor","changeProperties","color","value","changeToolSize","width","changeFontSize","getElementById","loadFile","downloadCanvas","checkStorage","Canvas","height","canvasArea","ctx","getContext","fillStyle","fillRect","isDrawing","lastX","lastY","drawProperties","drawStyle","mouseEventHandler","move","down","up","out","drawMethod","drawHistory","saveToHistory","properties","strokeStyle","lineJoin","lineCap","lineWidth","beginPath","moveTo","lineTo","offsetX","offsetY","stroke","length","oldProperties","slice","push","toDataURL","draw","removeEventListener","Undo_Redo","elementID","undoHistory","url","canvasHeight","clientHeight","canvasWidth","clientWidth","imageObj","Image","src","onload","clearRect","drawImage","bind","stateToLoad","pop","loadState","history","historyLength","stateToUndo","OtherTools","Brush","paintColor","bindEvents","unbindEvents","Easer","disabled","Spray","getRandomPosition","spraySize","randomAngle","Math","random","randomRadius","angle","cos","radius","sin","paint","density","i","offset","x","y","event","ColorPicker","checkColor","colorData","getImageData","rgbColor","red","data","green","blue","hexColor","toString","console","log","eventHandler","Rect","startDrawPoints","menuHeight","clientY","clientX","loadImage","test","startPoint","rect","Text","initEvents","cursorPosition","checkPosition","textField","createElement","setAttribute","appendChild","createTextField","OpenFile","image","imageWidth","imageHeight","widthRatio","heightRatio","toatlSizeRatio","min","file","files","reader","FileReader","readAsDataURL","result","imageSize","checkSizeImage","DownloadCanvas","fileName","link","href","CanvasStorage","modal","info","accept","cancel","textContent","contains","load","parentNode","removeChild","setTimeout","localStorage","getItem","createLoadModal","setItem","createSaveModal"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b20bd52e60468353846b","\r\nclass Tool {\r\n    constructor(idElement, cursorUrl) {\r\n        this.element = document.querySelector(idElement)\r\n        this.cursorUrl = cursorUrl\r\n    }\r\n\r\n    disableButton() {\r\n        this.element.classList.remove(\"menu__button--active\");\r\n        this.element.dataset.usage = \"false\";\r\n    }\r\n\r\n    enableButton() {\r\n        this.element.classList.add(\"menu__button--active\"); // set button to active\r\n        this.element.dataset.usage = \"true\";\r\n        document.querySelector(\":root\").style.setProperty(\"--canvas-cursor\", `url(${this.cursorUrl}), auto`)// change cursor\r\n    } \r\n}\r\n\r\nexport default Tool;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/tool_class.js","import Canvas from \"./classes/canvas_class\"; // Class of Canvas element\r\n\r\nimport Undo_Redo from \"./others-buttons/undo_redo_class\"\r\n\r\nimport Brush from \"./basic_tools/brush\";\r\nimport Easer from \"./basic_tools/easer\";\r\nimport Spray from \"./basic_tools/spray\";  \r\nimport ColorPicker from \"./basic_tools/color_picker\"; \r\nimport Rect from \"./basic_tools/rect\"; \r\nimport Text from \"./basic_tools/text\"; \r\n\r\nimport OpenFile from \"./others-buttons/open_file\";\r\nimport DownloadCanvas from \"./others-buttons/download\";\r\nimport CanvasStorage from \"./others-buttons/storage\";\r\n\r\n\r\n//////////\r\n\r\nconst menu = document.querySelector(\".menu\");\r\nconst canvasElement = document.querySelector(\"#canvas\");\r\nconst workSpaceWidth = window.innerWidth;\r\nconst workSpaceHeight = window.innerHeight - menu.offsetHeight;\r\nconst toolColor = document.querySelector(\"#color-field\");\r\nconst toolSize = document.querySelector(\"#tool-size\");\r\nconst download = document.querySelector(\"#download\");\r\nconst save = document.querySelector(\"#save\");\r\nconst textTool = document.querySelector(\"#Text\");\r\n\r\nconst redo = document.querySelector(\"#redo\");\r\nconst undo = document.querySelector(\"#undo\");\r\n\r\nconst toolSet = {\r\n\t\"Brush\": Brush,\r\n\t\"Easer\": Easer,\r\n\t\"Color-Picker\": ColorPicker,\r\n\t\"Spray\": Spray,\r\n\t\"Rect\": Rect\r\n}\r\n\r\n// ///////////////\r\n\r\n\r\nconst Sketch = new Canvas(\"#canvas\", workSpaceWidth, workSpaceHeight);\r\nconst DownloadImg = new DownloadCanvas(download, document.querySelector(\"#canvas\"));\r\nconst StorageOfCanvas = new CanvasStorage(save, canvasElement, Sketch);\r\nconst Loader = new OpenFile(\"#get-file\", Sketch);\r\nconst DrawHistory = new Undo_Redo(\"#redo\", Sketch);\r\nconst TextTool = new Text(textTool, Sketch);\r\n\r\nfunction disableButton(e, canvas) {\r\n\tlet buttonID = document.querySelector(\"[data-usage=true]\").id;\r\n\tlet toolToDisable = toolSet[buttonID];\r\n\r\n\ttoolToDisable.disableButton();\r\n\ttoolToDisable.inactive(e, canvas);\r\n}\r\n\r\nfunction enableButton(e, canvas) {\r\n\tlet buttonID = e.target.id;\r\n\tlet toolToActive = toolSet[buttonID];\r\n\r\n\ttoolToActive.enableButton();\r\n\ttoolToActive.active(e, canvas);\r\n}\r\n\r\nfunction useButton(e) {\r\n\tdisableButton(e, Sketch);\r\n\tenableButton(e, Sketch);\r\n}\r\n\r\nmenu.addEventListener(\"click\", e => {\r\n\tif(e.target.hasAttribute(\"data-usage\")){\r\n\t\tuseButton(e);\t\r\n\t}\r\n});\r\n\r\n// /////////////////////////////////////////////////\r\n\r\nfunction changeColor() {\r\n\tSketch.changeProperties({color: toolColor.value}); \r\n}\r\n\r\nfunction changeToolSize() {\r\n\tSketch.changeProperties({width: toolSize.value}); \r\n}\r\n\r\nfunction changeFontSize() {\r\n\t\r\n}\r\n\r\n/////////\r\n\r\ntoolSize.addEventListener(\"change\", changeToolSize);\r\ntoolColor.addEventListener(\"change\", changeColor);\r\n\r\ndocument.getElementById(\"get-file\").addEventListener(\"change\", function() {\r\n\tLoader.loadFile()\r\n});\r\n\r\ndownload.addEventListener('click', () => DownloadImg.downloadCanvas());\r\nsave.addEventListener('click', () => StorageOfCanvas.save());\r\nredo.addEventListener(\"click\", () => DrawHistory.redo());\r\nundo.addEventListener(\"click\", () => DrawHistory.undo());\r\n\r\nwindow.addEventListener('load', () => StorageOfCanvas.checkStorage());\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","class Canvas {\r\n  \r\n\tconstructor(canvasElement, width, height){ // creating canvas object, needed arguments (1. selector of canvas element, 2. width, 3. height)\r\n\t\tthis.canvasArea = document.querySelector(canvasElement);\r\n\t\tthis.canvasArea.width = width;\r\n\t\tthis.canvasArea.height = height;\r\n\t\tthis.ctx = this.canvasArea.getContext('2d');\r\n\t\tthis.ctx.fillStyle = \"#ffffff\";\r\n\t\tthis.ctx.fillRect(0, 0, width, height);\r\n\r\n\t\tthis.isDrawing = false;\r\n\t\tthis.lastX = 0;\r\n\t\tthis.lastY = 0;\r\n\r\n\t\t//////// DRAW PROPERTIES /////////\r\n\t\tthis.drawProperties = {\r\n\t\t\tdrawStyle: \"line\",\r\n\t\t\tcolor :'#000000', \r\n\t\t\twidth :'10', \r\n\t\t\tstyle :'round',\r\n\t\t};\r\n\r\n\t\t////// Event handler for unbind method /////\r\n\t\tthis.mouseEventHandler = {\r\n\t\t\tmove: null,\r\n\t\t\tdown: null,\r\n\t\t\tup: null,\r\n\t\t\tout: null\r\n\t\t};\r\n\r\n\t\t//// properties to use for new methods of draw ///\r\n\t\tthis.drawMethod = null\r\n\r\n\t\t//// Draw History ////\r\n\t\tthis.drawHistory = [];\r\n\t\tthis.saveToHistory(); // used during init of object to save blank canvas in history\r\n\t}\r\n\r\n\tchangeProperties(properties) { // Function to change drawing properies: color, width, OBJECT AS ARGUMENT OF FUNCTION\r\n\t\tthis.drawProperties = {\r\n\t\t\t...this.drawProperties,\r\n\t\t\t...properties\r\n\t\t};\r\n\t}\r\n  \r\n\tdraw(e) {\r\n\t\tif(!this.isDrawing) return;\r\n\t\t  \r\n\t\tthis.ctx.strokeStyle = this.drawProperties.color;\r\n\t\tthis.ctx.fillStyle = this.drawProperties.color;\r\n\t\tthis.ctx.lineJoin = 'round';\r\n\t\tthis.ctx.lineCap = this.drawProperties.style;\r\n\t\tthis.ctx.lineWidth = this.drawProperties.width;\r\n\r\n\t\tif(typeof this.drawMethod !== \"function\") { // Default settings of draw, useing for Brush or Easer\r\n\t\t\tthis.ctx.beginPath();\r\n\t\t\tthis.ctx.moveTo(this.lastX, this.lastY);\r\n\t\t\tthis.ctx.lineTo(e.offsetX, e.offsetY);\r\n\t\t\tthis.ctx.stroke();\r\n\t\t} else {\r\n\t\t\tthis.drawMethod(e, this) // Other draw methods implemented from tools\r\n\t\t}\r\n\t\t\r\n\t\tthis.lastX = e.offsetX;\r\n\t\tthis.lastY = e.offsetY;\r\n\t}\r\n\r\n\tsaveToHistory() {\r\n\t\tif(this.drawHistory.length > 6) {\r\n\t\t  const oldProperties = this.drawHistory.slice(1,7);\r\n\t\t  this.drawHistory = oldProperties;\r\n\t\t}\r\n\t\t\r\n\t\tthis.drawHistory.push(this.canvasArea.toDataURL());   \r\n\t}\r\n\r\n  \r\n\tbindEvents() {\r\n\t   this.canvasArea.addEventListener(\"mousemove\", this.mouseEventHandler.move = (e) => {this.draw(e)});\r\n\t   this.canvasArea.addEventListener(\"mousedown\", this.mouseEventHandler.down = (e) => {\r\n\t\t\t\tthis.isDrawing = true;\r\n\t\t\t\tthis.lastX = e.offsetX;\r\n\t\t\t\tthis.lastY = e.offsetY;\r\n\t\t\t\tthis.draw(e);\r\n\t   });\r\n\t   this.canvasArea.addEventListener(\"mouseup\", this.mouseEventHandler.up = () => {\r\n\t\t\tif(this.isDrawing) {\r\n\t\t\t\tthis.saveToHistory();\r\n\t\t\t\tthis.isDrawing = false\r\n\t\t\t}\r\n\t\t});\r\n\t   this.canvasArea.addEventListener(\"mouseout\", this.mouseEventHandler.out = () => {\r\n\t\t\tif(this.isDrawing) {\r\n\t\t\t\tthis.saveToHistory();\r\n\t\t\t\tthis.isDrawing = false\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tunbindEvents() {\r\n\t\tthis.canvasArea.removeEventListener(\"mousemove\", this.mouseEventHandler.move);\r\n\t\tthis.canvasArea.removeEventListener(\"mousedown\", this.mouseEventHandler.down);\r\n\t\tthis.canvasArea.removeEventListener(\"mouseup\", this.mouseEventHandler.up);\r\n\t\tthis.canvasArea.removeEventListener(\"mouseout\", this.mouseEventHandler.out);\r\n\t }\r\n  }\r\n\r\n  export default Canvas;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/canvas_class.js","import OtherTools from \"../classes/otherTools_class.js\";\r\n\r\nclass Undo_Redo extends OtherTools  {\r\n    constructor(elementID, canvasElement) {\r\n        super(elementID, canvasElement);\r\n        this.undoHistory = [];\r\n    }\r\n\r\n    loadState(url) {\r\n        const canvasHeight = this.canvas.canvasArea.clientHeight;\r\n        const canvasWidth = this.canvas.canvasArea.clientWidth;\r\n        \r\n        const imageObj = new Image();\r\n        imageObj.src = url;\r\n        imageObj.onload = function() {\r\n            this.canvas.ctx.clearRect(0, 0, canvasWidth, canvasHeight);\r\n            this.canvas.ctx.drawImage(imageObj, 0, 0);\r\n        }.bind(this);\r\n    }\r\n\r\n    redo() {\r\n        if(this.undoHistory.length <= 0) return;\r\n\r\n        const stateToLoad = this.undoHistory[this.undoHistory.length - 1]\r\n        this.undoHistory.pop();\r\n        this.canvas.drawHistory.push(stateToLoad);\r\n\r\n        this.loadState(stateToLoad);\r\n    }\r\n\r\n    undo() {\r\n        const history = this.canvas.drawHistory;\r\n        const historyLength = history.length;\r\n\r\n        if(historyLength <= 1) return;\r\n\r\n        const stateToUndo = history[historyLength - 1];\r\n        const stateToLoad = history[historyLength - 2];\r\n\r\n        this.undoHistory.push(stateToUndo)\r\n        this.canvas.drawHistory.pop();\r\n\r\n        this.loadState(stateToLoad);\r\n    }\r\n}\r\n\r\nexport default Undo_Redo; \n\n\n// WEBPACK FOOTER //\n// ./src/js/others-buttons/undo_redo_class.js","\r\nclass OtherTools {\r\n    constructor(elementID, canvasElement) {\r\n        this.element = document.querySelector(elementID);\r\n        this.canvas = canvasElement;\r\n    }\r\n}\r\n\r\nexport default OtherTools;\n\n\n// WEBPACK FOOTER //\n// ./src/js/classes/otherTools_class.js","import Tool from \"../classes/tool_class.js\"; // Class of tools\r\n\r\nconst Brush = new Tool('#Brush', '../my-icons-collection/svg/001-color-picker.png');\r\n\r\n\r\nBrush.active = function(e, canvas) {\r\n\r\n    let paintColor = document.querySelector(\"[type=color]\").value;\r\n    canvas.changeProperties({color: paintColor, drawStyle: \"line\"});\r\n    canvas.bindEvents();\r\n}\r\n\r\nBrush.inactive = function(e, canvas) {\r\n    canvas.unbindEvents();\r\n}\r\n\r\nexport default Brush;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/brush.js","import Tool from \"../classes/tool_class.js\"; // Class of tools\r\n\r\nconst Easer = new Tool('#Easer', '../my-icons-collection/svg/001-color-picker.png');\r\n\r\nEaser.active = function(e, canvas) {\r\n\r\n    canvas.changeProperties({drawStyle: \"line\", color: \"#ffffff\"});\r\n    document.querySelector(\"#color-field\").disabled = true;\r\n    canvas.bindEvents();\r\n}\r\n\r\nEaser.inactive = function(e, canvas) {\r\n    document.querySelector(\"#color-field\").disabled = false;\r\n    canvas.unbindEvents();\r\n}\r\n\r\nexport default Easer;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/easer.js","import Tool from \"../classes/tool_class.js\"; // Class of tools\r\n\r\nconst Spray = new Tool('#Spray', '../my-icons-collection/svg/001-color-picker.png');\r\n\r\nSpray.getRandomPosition = function (spraySize) {\r\n    const randomAngle = Math.random() * 360;\r\n    const randomRadius = Math.random() * spraySize;\r\n\r\n    return {\r\n        angle: Math.cos(randomAngle) * randomRadius,\r\n        radius: Math.sin(randomAngle) * randomRadius\r\n    };\r\n}\r\n\r\nSpray.paint = function(e, canvas) {\r\n\r\n    const spraySize = canvas.ctx.lineWidth;\r\n    const density = 60 * (spraySize/5);\r\n\r\n        for (let i = 0; i < density; i++) {\r\n\r\n            const offset = Spray.getRandomPosition(spraySize);\r\n            const x = offset.angle + e.offsetX;\r\n            const y = offset.radius + e.offsetY;\r\n\r\n            canvas.ctx.fillRect(x, y, 1, 1); \r\n        }\r\n}\r\n\r\nSpray.active = function (event, canvas) {\r\n\r\n    canvas.bindEvents();\r\n    canvas.drawMethod = Spray.paint;\r\n};\r\n\r\nSpray.inactive = function (e, canvas) {\r\n\r\n    canvas.unbindEvents();\r\n    canvas.drawMethod = null;\r\n};\r\n\r\nexport default Spray;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/spray.js","import Tool from \"../classes/tool_class.js\"; // Class of tools\r\n\r\nconst ColorPicker = new Tool('#Color-Picker', '../my-icons-collection/svg/001-color-picker.png');\r\n\r\nColorPicker.checkColor = function(e, canvas) {\r\n\r\n\t\tconst colorData = canvas.ctx.getImageData(e.offsetX, e.offsetY, 1, 1);\r\n\t\t\r\n\t\tconst rgbColor = {\r\n\t\t\tred : colorData.data[0],\r\n\t\t\tgreen : colorData.data[1],\r\n\t\t\tblue : colorData.data[2]\r\n\t\t}\r\n\t\t\r\n\t\tconst hexColor = {\r\n\t\t\tred : rgbColor.red.toString(16),\r\n\t\t\tgreen : rgbColor.green.toString(16),\r\n\t\t\tblue : rgbColor.blue.toString(16)\r\n\t\t}\r\n\t\r\n\t\tconsole.log(hexColor);\r\n\t\r\n\t\tdocument.querySelector(\"#color-field\").value = `#${hexColor.red}${hexColor.green}${hexColor.blue}`; \r\n};\r\n\r\n\r\nColorPicker.active = function(e, canvas) {\r\n\r\n\tcanvas.unbindEvents();\r\n\r\n\tconst canvasArea = document.querySelector(\"#canvas\");\r\n\tColorPicker.eventHandler // created to make possiable to remove Event Listener\r\n\r\n\tcanvasArea.addEventListener(\"click\", ColorPicker.eventHandler = function(event){\r\n\t\tColorPicker.checkColor(event, canvas)\r\n\t});\r\n}\r\n\r\nColorPicker.inactive = function(e, canvas) {\r\n\tconst canvasArea = document.querySelector(\"#canvas\");\r\n    canvasArea.removeEventListener(\"click\", ColorPicker.eventHandler);\r\n}\r\n\r\nexport default ColorPicker;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/color_picker.js","import Tool from \"../classes/tool_class.js\"; // Class of tools\r\n\r\nconst Rect = new Tool('#Rect', '../my-icons-collection/svg/001-color-picker.png');\r\n\r\nconsole.log(Rect);\r\n\r\nRect.startDrawPoints = function(event, canvas) {\r\n    const menuHeight = window.innerHeight - canvas.canvasArea.height;\r\n\r\n    return { \r\n        y: event.clientY - menuHeight, \r\n        x: event.clientX,\r\n        menuHeight: menuHeight\r\n    }\r\n}\r\n\r\nRect.loadImage = function(canvas) {\r\n    const history = canvas.drawHistory;\r\n    const stateToLoad = history[history.length - 2];\r\n\r\n\r\n    const canvasHeight = canvas.canvasArea.clientHeight;\r\n    const canvasWidth = canvas.canvasArea.clientWidth;\r\n        \r\n    const imageObj = new Image();\r\n    imageObj.src = stateToLoad;\r\n    imageObj.onload = function() {\r\n        canvas.ctx.clearRect(0, 0, canvasWidth, canvasHeight);\r\n        canvas.ctx.drawImage(imageObj, 0, 0);\r\n    };\r\n}\r\n\r\nRect.active = function(e, test) {\r\n    const canvas = test;\r\n\tcanvas.unbindEvents();\r\n    \r\n    \r\n    console.log(canvas)\r\n\tconst canvasArea = document.querySelector(\"#canvas\");\r\n\tRect.eventHandler // created to make possiable to remove Event Listener\r\n\r\n\tcanvasArea.addEventListener(\"mousedown\", function(event){\r\n        \r\n\t\tconst startPoint = Rect.startDrawPoints(event, canvas);\r\n        console.log(startPoint)\r\n\t\tcanvasArea.addEventListener(\"mousemove\", function(e){\r\n            this.loadImage(canvas)\r\n            canvas.ctx.rect(startPoint.x, startPoint.y, e.clientX - startPoint.x, e.clientY - startPoint.y - startPoint.menuHeight);\r\n            canvas.ctx.stroke();\r\n        }.bind(Rect));\r\n    });\r\n}\r\n\r\nRect.inactive = function(e, canvas) {\r\n    \r\n}\r\n\r\n\r\nexport default Rect;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/rect.js","\r\n\r\nclass Text  {\r\n    constructor(elementID, canvas) {\r\n        this.element = elementID;\r\n        this.canvas = canvas;\r\n        this.lastX;\r\n        this.lastY;\r\n        this.initEvents();\r\n    }\r\n\r\n    createTextField(e) {\r\n        const cursorPosition = this.checkPosition(e);\r\n        this.lastX = cursorPosition.x;\r\n        this.lastY = cursorPosition.y;\r\n\r\n        const textField = document.createElement(\"textarea\");\r\n        textField.setAttribute(`style`,\r\n        `position: absolute;\r\n        top: ${this.lastY};\r\n        left: ${this.lastX};\r\n        border: 2px dashed #CCCCCC;\r\n        outline: none;\r\n        background-color: transparent;`);\r\n        document.querySelector(\"body\").appendChild(textField);\r\n    }\r\n\r\n    checkPosition(e) {\r\n        return {\r\n            x: e.offsetX,\r\n            y: e.offsetY\r\n        }\r\n    }\r\n\r\n    dragElement() {\r\n\r\n    }\r\n\r\n    dropElement() {\r\n\r\n    }\r\n\r\n    initTextField() {\r\n\r\n    }\r\n\r\n    disabledTextFiled() {\r\n\r\n    }\r\n\r\n    initEvents() {\r\n        this.element.addEventListener(\"click\", (e) => {\r\n            this.createTextField(e);\r\n        })\r\n    }\r\n}\r\n\r\nexport default Text;\n\n\n// WEBPACK FOOTER //\n// ./src/js/basic_tools/text.js","\r\n\r\nclass OpenFile {\r\n    constructor(elementID, canvasElement) {\r\n        this.element = document.querySelector(elementID);\r\n        this.canvas = canvasElement;\r\n    }\r\n\r\n\r\n    checkSizeImage(image) {\r\n        const canvasHeight = this.canvas.canvasArea.clientHeight;\r\n        const canvasWidth = this.canvas.canvasArea.clientWidth;\r\n        const imageWidth = image.width;\r\n        const imageHeight = image.height;\r\n\r\n        console.log(canvasHeight, imageHeight);\r\n\r\n        if(imageWidth > canvasWidth || imageHeight > canvasHeight) {\r\n            const widthRatio = canvasWidth / imageWidth;\r\n            const heightRatio = canvasHeight / imageHeight;\r\n\r\n            const toatlSizeRatio = Math.min(widthRatio, heightRatio); //it always will be fraction, smaller fraction will show longer side of image;\r\n            //to properly scale, it have be scaled by ratio of longer side\r\n\r\n            return {\r\n                x: imageWidth * toatlSizeRatio,\r\n                y: imageHeight * toatlSizeRatio\r\n            }\r\n        } else {\r\n            return {\r\n                x: imageWidth,\r\n                y: imageHeight\r\n            }\r\n        }\r\n    }\r\n    \r\n    loadFile() {\r\n        const file = this.element.files[0];\r\n        const imageObj = new Image();\r\n        const reader = new FileReader();\r\n\r\n        reader.readAsDataURL(file);\r\n        \r\n        reader.onload = function() {\r\n            imageObj.src = reader.result;\r\n        };\r\n\r\n        imageObj.onload = () => {\r\n            const imageSize = this.checkSizeImage(imageObj);\r\n            this.canvas.ctx.drawImage(imageObj, 0, 0, imageSize.x, imageSize.y);\r\n        }\r\n\r\n        this.canvas.saveToHistory();\r\n    }\r\n}\r\n\r\nexport default OpenFile;\n\n\n// WEBPACK FOOTER //\n// ./src/js/others-buttons/open_file.js","\r\n\r\nclass DownloadCanvas {\r\n    constructor(element, canvasElement) {\r\n        this.fileName = \"my_image.png\";\r\n        this.canvas = canvasElement;\r\n        this.element = element;\r\n    }  \r\n\r\n    downloadCanvas() {\r\n        const link = this.canvas.toDataURL();\r\n  \r\n        this.element.download = this.fileName;\r\n        this.element.href = link;\r\n    }\r\n}\r\n\r\nexport default DownloadCanvas;\n\n\n// WEBPACK FOOTER //\n// ./src/js/others-buttons/download.js","\r\n\r\nclass CanvasStorage {\r\n    constructor(element, canvasElement, canvas) {\r\n        this.canvasElement = canvasElement;\r\n        this.canvas = canvas;\r\n        this.element = element;\r\n    } \r\n\r\n    createLoadModal() {\r\n        const modal = document.createElement(\"div\");\r\n        const info = document.createElement(\"p\");\r\n        const accept = document.createElement(\"button\");\r\n        const cancel = document.createElement(\"button\");\r\n        let eventHandler;\r\n\r\n        modal.classList.add(\"modal\");\r\n        info.classList.add(\"modal__info\");\r\n        accept.classList.add(\"modal__button\");\r\n        cancel.classList.add(\"modal__button\");\r\n        \r\n        info.textContent = \"Saved image was found, would you like to load it?\";\r\n        accept.textContent = \"Accept\";\r\n        cancel.textContent = \"Cancel\";\r\n\r\n        modal.appendChild(info);\r\n        modal.appendChild(accept);\r\n        modal.appendChild(cancel);\r\n\r\n        document.querySelector(\"body\").appendChild(modal);\r\n\r\n        modal.addEventListener(\"click\", eventHandler = (e) => {\r\n            if(e.target.classList.contains(\"modal__button\")) {\r\n                if(e.target.textContent === \"Accept\") {\r\n                    this.load();\r\n                } \r\n\r\n                modal.removeEventListener(\"click\", eventHandler);\r\n                modal.parentNode.removeChild(modal);\r\n            }\r\n        });\r\n    }\r\n\r\n    createSaveModal() {\r\n        const modal = document.createElement(\"div\");\r\n        const info = document.createElement(\"p\");\r\n\r\n        modal.classList.add(\"modal\");\r\n        info.classList.add(\"modal__info\");\r\n\r\n        info.textContent = \"Saved...\";\r\n        modal.appendChild(info);\r\n\r\n        document.querySelector(\"body\").appendChild(modal);\r\n\r\n        setTimeout(() => {\r\n            modal.parentNode.removeChild(modal);\r\n        }, 1000);\r\n    }\r\n\r\n    checkStorage() {\r\n        if(localStorage.getItem(\"img\") !== null) {\r\n            this.createLoadModal();\r\n        }\r\n    }\r\n\r\n    save() {\r\n        const link = this.canvasElement.toDataURL();\r\n  \r\n        localStorage.setItem(\"img\", link);\r\n\r\n        this.createSaveModal();\r\n    } \r\n\r\n    load() {\r\n        const link = localStorage.getItem(\"img\");\r\n\r\n        const imageObj = new Image();\r\n        imageObj.src = link;\r\n        imageObj.onload = function() {\r\n            this.canvas.ctx.drawImage(imageObj, 0, 0);\r\n        }.bind(this);\r\n    } \r\n}\r\n\r\nexport default CanvasStorage;\n\n\n// WEBPACK FOOTER //\n// ./src/js/others-buttons/storage.js"],"sourceRoot":""}